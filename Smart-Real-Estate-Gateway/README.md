# بوابة العقارات الذكية

نظام متكامل لإدارة العقارات مع لوحة تحكم إدارية متطورة ووجهة عملاء عصرية.

## 🌟 المميزات الرئيسية

### 📊 لوحة الإدارة
- **إدارة العقارات**: إضافة، تعديل، وحذف العقارات مع رفع الصور
- **إدارة المستخدمين**: تحكم كامل في حسابات المستخدمين والصلاحيات
- **إدارة الاستفسارات**: متابعة والرد على استفسارات العملاء
- **إدارة المواعيد**: جدولة وإدارة مواعيد زيارة العقارات
- **التقارير والإحصائيات**: تقارير مفصلة وإحصائيات في الوقت الفعلي
- **الإعدادات**: تخصيص إعدادات النظام

### 🏠 واجهة العملاء
- **عرض العقارات**: تصفح العقارات مع فلاتر متقدمة
- **تفاصيل العقار**: عرض تفصيلي مع معرض الصور
- **حجز المواعيد**: نظام حجز المواعيد المباشر
- **إرسال الاستفسارات**: تواصل مباشر مع فريق المبيعات
- **البحث المتقدم**: بحث ذكي حسب المنطقة والسعر والمواصفات

### 🔐 الأمان والحماية
- **مصادقة JWT**: نظام مصادقة آمن
- **تشفير كلمات المرور**: تشفير متقدم باستخدام bcrypt
- **حماية المسارات**: حماية مسارات الإدارة من الوصول غير المصرح
- **التحقق من الصلاحيات**: نظام أدوار متقدم

### 📱 تصميم متجاوب
- **دعم جميع الأجهزة**: هواتف، تابلت، وأجهزة الكمبيوتر
- **تجربة مستخدم محسنة**: واجهات سهلة الاستخدام
- **دعم اللغة العربية**: تصميم مُحسن للغة العربية (RTL)

## 🛠 التقنيات المستخدمة

### الخادم (Backend)
- **Node.js** - بيئة تشغيل JavaScript
- **Express.js** - إطار عمل الويب
- **MongoDB** - قاعدة البيانات
- **Mongoose** - ODM لـ MongoDB
- **JWT** - مصادقة الرموز المميزة
- **bcryptjs** - تشفير كلمات المرور
- **Multer** - رفع الملفات
- **Express Validator** - التحقق من صحة البيانات

### العميل (Frontend)
- **React 18** - مكتبة واجهة المستخدم
- **Vite** - أداة البناء السريعة
- **React Router** - التنقل بين الصفحات
- **Tailwind CSS** - إطار عمل CSS
- **Lucide React** - مكتبة الأيقونات
- **React Hot Toast** - إشعارات المستخدم
- **Axios** - طلبات HTTP
- **Recharts** - الرسوم البيانية

## 🚀 طريقة التشغيل

### المتطلبات الأساسية
- Node.js (الإصدار 16 أو أحدث)
- MongoDB (محلي أو Atlas)
- npm أو yarn

### 1. استنساخ المشروع
```bash
git clone <repository-url>
cd Smart-Real-Estate-Gateway
```

### 2. إعداد الخادم
```bash
cd server
npm install

# إنشاء ملف .env
cp .env.example .env

# تعديل متغيرات البيئة في .env
# MONGODB_URI=mongodb://localhost:27017/smart-real-estate
# JWT_SECRET=your-secret-key
# PORT=5000

# إنشاء حساب مشرف افتراضي
npm run create-admin

# تشغيل الخادم
npm run dev
```

### 3. إعداد العميل
```bash
cd client
npm install

# تشغيل العميل
npm run dev
```

## 📋 البيانات الافتراضية

### حساب المشرف الافتراضي
- **البريد الإلكتروني**: admin@realestate.com
- **كلمة المرور**: Admin123!

يمكنك تغيير هذه البيانات من ملف `.env` قبل إنشاء حساب المشرف.

## 🗂 هيكل المشروع

```
Smart-Real-Estate-Gateway/
├── server/                     # الخادم (Backend)
│   ├── controllers/           # المتحكمات
│   ├── models/               # نماذج البيانات
│   ├── routes/               # المسارات
│   ├── middleware/           # الوسطاء
│   ├── uploads/              # ملفات الرفع
│   ├── utils/                # الأدوات المساعدة
│   ├── server.js             # ملف الخادم الرئيسي
│   └── .env                  # متغيرات البيئة
├── client/                   # العميل (Frontend)
│   ├── src/
│   │   ├── components/       # المكونات
│   │   ├── pages/           # الصفحات
│   │   ├── services/        # الخدمات
│   │   ├── context/         # السياقات
│   │   ├── utils/           # الأدوات المساعدة
│   │   └── assets/          # الموارد
│   ├── public/              # الملفات العامة
│   └── dist/               # ملفات البناء
└── README.md               # هذا الملف
```

## 🔧 الإعدادات

### متغيرات البيئة للخادم
```env
NODE_ENV=development
PORT=5000
MONGODB_URI=mongodb://localhost:27017/smart-real-estate
JWT_SECRET=your-secret-key
JWT_EXPIRE=30d
CLIENT_URL=http://localhost:5173
ADMIN_EMAIL=admin@realestate.com
ADMIN_PASSWORD=Admin123!
ADMIN_NAME=مدير النظام
```

### إعدادات العميل
```env
VITE_API_URL=http://localhost:5000/api
```

## 📡 API المسارات

### المصادقة
- `POST /api/auth/login` - تسجيل الدخول
- `POST /api/auth/register` - تسجيل حساب جديد
- `GET /api/auth/me` - الحصول على معلومات المستخدم
- `PUT /api/auth/profile` - تحديث الملف الشخصي
- `POST /api/auth/logout` - تسجيل الخروج

### العقارات
- `GET /api/properties` - الحصول على العقارات
- `GET /api/properties/:id` - تفاصيل عقار
- `POST /api/properties` - إضافة عقار (مشرف)
- `PUT /api/properties/:id` - تحديث عقار (مشرف)
- `DELETE /api/properties/:id` - حذف عقار (مشرف)

### المستخدمين (مشرف)
- `GET /api/admin/users` - قائمة المستخدمين
- `GET /api/admin/users/:id` - تفاصيل مستخدم
- `PUT /api/admin/users/:id` - تحديث مستخدم
- `DELETE /api/admin/users/:id` - حذف مستخدم

### الاستفسارات
- `POST /api/inquiries` - إرسال استفسار
- `GET /api/inquiries` - قائمة الاستفسارات (مشرف)
- `PUT /api/inquiries/:id/status` - تحديث حالة الاستفسار
- `POST /api/inquiries/:id/respond` - الرد على الاستفسار

### المواعيد
- `POST /api/appointments` - حجز موعد
- `GET /api/appointments` - قائمة المواعيد (مشرف)
- `PUT /api/appointments/:id/status` - تحديث حالة الموعد
- `PUT /api/appointments/:id/assign` - تعيين موعد لوكيل

## 🎨 التصميم والواجهة

### الألوان
- **الأساسي**: أزرق (#3b82f6)
- **الثانوي**: رمادي (#64748b)
- **النجاح**: أخضر (#22c55e)
- **التحذير**: أصفر (#f59e0b)
- **الخطر**: أحمر (#ef4444)

### الخطوط
- **Cairo** - خط عربي حديث وجميل
- دعم كامل للغة العربية (RTL)

## 📊 الميزات المتقدمة

### البحث والفلترة
- بحث نصي متقدم
- فلترة حسب النوع والفئة والسعر
- ترتيب حسب معايير متعددة
- تصفح مع ترقيم الصفحات

### الإحصائيات والتقارير
- إحصائيات في الوقت الفعلي
- رسوم بيانية تفاعلية
- تقارير قابلة للتصدير
- متابعة الأداء

### إدارة الملفات
- رفع متعدد للصور
- تحسين وضغط الصور
- أنواع ملفات متعددة
- حماية من الملفات الضارة

## 🔒 الأمان

### الحماية المطبقة
- تشفير كلمات المرور
- حماية CSRF
- تنظيف البيانات المدخلة
- معدل محدود للطلبات
- حماية من SQL Injection
- تحقق من صحة البيانات

## 🚀 الإنتاج والنشر

### بناء المشروع
```bash
# بناء العميل
cd client
npm run build

# تشغيل الخادم في الإنتاج
cd server
npm start
```

### متطلبات الخادم
- Node.js 16+
- MongoDB
- 2GB RAM (الحد الأدنى)
- 10GB مساحة تخزين

## 🛠 الصيانة والتطوير

### إضافة ميزات جديدة
1. إنشاء النموذج في `server/models/`
2. إضافة المسارات في `server/routes/`
3. إنشاء المتحكم في `server/controllers/`
4. إضافة الصفحة في `client/src/pages/`
5. تحديث التنقل في `client/src/App.jsx`

### اختبار المشروع
```bash
# اختبار الخادم
cd server
npm test

# اختبار العميل
cd client
npm test
```

## 📞 الدعم والمساعدة

### الأخطاء الشائعة

1. **خطأ في الاتصال بقاعدة البيانات**
   - تأكد من تشغيل MongoDB
   - تحقق من MONGODB_URI في .env

2. **مشكلة في تسجيل الدخول**
   - تأكد من إنشاء حساب المشرف
   - تحقق من JWT_SECRET

3. **مشكلة في رفع الصور**
   - تحقق من صلاحيات مجلد uploads
   - تأكد من حجم الملف أقل من 5MB

### التحديثات والتطوير
- النسخة الحالية: 1.0.0
- تاريخ الإصدار: 2024
- المطور: فريق بوابة العقارات الذكية

## 📄 الرخصة

هذا المشروع مرخص تحت رخصة MIT - راجع ملف LICENSE للتفاصيل.

---

**ملاحظة**: هذا المشروع تم تطويره لأغراض تعليمية وتجارية. يمكن استخدامه وتطويره حسب الحاجة.